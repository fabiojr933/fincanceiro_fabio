<script
  src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"
  integrity="sha512-TW5s0IT/IppJtu76UbysrBH9Hy/5X41OTAbQuffZFU6lQ1rdcLHzpU5BzVvr/YFykoiMYZVWlr/PX1mDcfM9Qg=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>

<div class="row">
<div class="col-md-12 col-lg-6">
  <div class="card">
    <div class="card-header">
      <h5>Relatorio despesas</h5>
    </div>
    <canvas id="janeiro_despesa" width="100" height="100"></canvas>
  </div>
</div>
<div class="col-md-12 col-lg-6">
  <div class="card">
    <div class="card-header">
      <h5>Relatorio receitas</h5>
    </div>
    <canvas id="janeiro_receita" width="100" height="100"></canvas>
  </div>
</div>
</div>


<script>
  const total = [];
  const despesa = [];

  ("<% janeiro_despesa.forEach((row, index) => { %>");
  total.push("<%- row.valor.toLocaleString('pt-BR', { minimumFractionDigits: 2}); %>");
  despesa.push("<%- row.despesa %>");
  ("<% }); %>");

  
  var ctx = document.getElementById('janeiro_despesa').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'pie',
    data: {
        labels: despesa,
        datasets: [{
            label: 'Valor',
            data: total,
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>


<script>
  const total2 = [];
  const receita = [];

  ("<% janeiro_receita.forEach((row, index) => { %>");
  total2.push("<%- row.valor %>");
  receita.push("<%- row.receita %>");
  ("<% }); %>");

  
  var ctx = document.getElementById('janeiro_receita').getContext('2d');
var janeiro_receita = new Chart(ctx, {
    type: 'pie',
    data: {
        labels: receita,
        datasets: [{
            label: 'Valor',
            data: total2,
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>